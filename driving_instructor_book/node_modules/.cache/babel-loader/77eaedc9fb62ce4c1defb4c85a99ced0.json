{"remainingRequest":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/babel-loader/lib/index.js!/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/src/pages/myStore/MyStore.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/src/pages/myStore/MyStore.vue","mtime":1667041986166},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/babel.config.js","mtime":1658634198971},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/cache-loader/dist/cjs.js","mtime":1663066735138},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/babel-loader/lib/index.js","mtime":1663066738371},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/cache-loader/dist/cjs.js","mtime":1663066735138},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/vue-loader-v16/dist/index.js","mtime":1663066738351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKLy8gaW1wb3J0IHsgbWFrZVJlcXVpcmVkUHJvcCB9IGZyb20gJ3ZhbnQvbGliL3V0aWxzJzsKaW1wb3J0IHsgb25Nb3VudGVkLCByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IEhlYWRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hlYWRlci52dWUnOwppbXBvcnQgQ291cnNlTGlzdCBmcm9tICcuL2NvbXBvbmVudHMvQ291cnNlTGlzdCc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7IC8vIGltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vcm91dGVyJzsKCmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgZ2V0U3RvcmVEYXRhIH0gZnJvbSAnLi4vLi4vcmVxdWVzdC9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogICAgQ291cnNlTGlzdAogIH0sCgogIHNldHVwKCkgewogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICBsZXQgZGF0YSA9IHJlYWN0aXZlKHsKICAgICAgc3RvcmVEYXRhOiBbXSwKICAgICAgdGl0bGU6ICcnLAogICAgICBpbWc6ICcnCiAgICB9KTsgLy9kYXRhIHJlcXVlc3QKCiAgICBjb25zdCBnZXRTdG9yZSA9ICgpID0+IHsKICAgICAgZ2V0U3RvcmVEYXRhKCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDAgJiYgcmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgcmVzLmRhdGEuZGF0YS5mb3JFYWNoKGkgPT4gewogICAgICAgICAgICBpZiAoaS50aXRsZSA9PT0gcm91dGUucXVlcnkudGl0bGUpIHsKICAgICAgICAgICAgICBkYXRhLnRpdGxlID0gaS50aXRsZTsKICAgICAgICAgICAgICBkYXRhLmltZyA9IGkuaW1nOwogICAgICAgICAgICAgIGRhdGEuc3RvcmVEYXRhID0gaS5zdG9yZURhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGdldFN0b3JlKCk7CiAgICB9KTsKCiAgICBjb25zdCBzZXJ2aWNlID0gKCkgPT4gewogICAgICBfVG9hc3QuZmFpbCgnQ29taW5nIExhdGVyLi4uJyk7CiAgICB9OyAvL2p1bXAgdG8gY2FydAoKCiAgICBjb25zdCB0b0NhcnQgPSAoKSA9PiB7CiAgICAgIHJvdXRlci5wdXNoKCcuL2NhcnQnKTsKICAgIH07IC8vIGFkZCB0byBjYXJ0CgoKICAgIGNvbnN0IGhhbmRsZUFkZENhcnQgPSB0eXBlID0+IHsKICAgICAgbGV0IG5ld0xpc3QgPSBbXTsKICAgICAgZGF0YS5zdG9yZURhdGEuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICB2YXIgX2l0ZW0kZGF0YSRpdGVtczsKCiAgICAgICAgKF9pdGVtJGRhdGEkaXRlbXMgPSBpdGVtLmRhdGEuaXRlbXMpID09PSBudWxsIHx8IF9pdGVtJGRhdGEkaXRlbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGRhdGEkaXRlbXMuZm9yRWFjaChpdGVtcyA9PiB7CiAgICAgICAgICBpdGVtcy5jaGlsZHJlbi5mb3JFYWNoKGl0ZW1zcyA9PiB7CiAgICAgICAgICAgIGlmIChpdGVtc3MubnVtID4gMCkgewogICAgICAgICAgICAgIG5ld0xpc3QucHVzaChpdGVtc3MpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CgogICAgICBpZiAobmV3TGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICBfVG9hc3QoJ1BsZWFzZSBzZWxlY3QnKTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzdG9yZS5jb21taXQoJ0FERENBUlQnLCBuZXdMaXN0KTsKICAgICAgdHlwZSA9PT0gJ2J1eScgPyB0b0NhcnQoKSA6ICcnOwogICAgfTsgLy9idXkgY2xpY2sKCgogICAgY29uc3QgY2xpY2tCdXkgPSAoKSA9PiB7CiAgICAgIGhhbmRsZUFkZENhcnQoJ2J1eScpOwogICAgfTsKCiAgICByZXR1cm4geyAuLi50b1JlZnMoZGF0YSksCiAgICAgIHNlcnZpY2UsCiAgICAgIGhhbmRsZUFkZENhcnQsCiAgICAgIHN0b3JlLAogICAgICBjbGlja0J1eSwKICAgICAgdG9DYXJ0CiAgICB9OwogIH0KCn07"},{"version":3,"mappings":";;AAkCA;AACA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,MAA9B,QAA4C,KAA5C;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AAEA,SAASC,QAAT,QAAyB,MAAzB,C,CACA;;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,YAApC;AACA,SAASC,YAAT,QAA6B,mBAA7B;AAEA,eAAe;EACbC,UAAU,EAAE;IACVN,MADU;IAEVC;EAFU,CADC;;EAMbM,KAAK,GAAG;IACN,MAAMC,KAAI,GAAIN,QAAQ,EAAtB;IACA,MAAMO,MAAK,GAAIN,SAAS,EAAxB;IACA,MAAMO,KAAI,GAAIN,QAAQ,EAAtB;IAEA,IAAIO,IAAG,GAAIb,QAAQ,CAAC;MAClBc,SAAS,EAAE,EADO;MAElBC,KAAK,EAAE,EAFW;MAGlBC,GAAG,EAAE;IAHa,CAAD,CAAnB,CALM,CAWN;;IACA,MAAMC,QAAO,GAAI,MAAM;MACrBV,YAAY,GAAGW,IAAf,CAAqBC,GAAD,IAAS;QAC3B,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAf,IAAsBD,GAAG,CAACN,IAAJ,CAASQ,IAAT,KAAkB,CAA5C,EAA+C;UAC7CF,GAAG,CAACN,IAAJ,CAASA,IAAT,CAAcS,OAAd,CAAuBC,CAAD,IAAO;YAC3B,IAAIA,CAAC,CAACR,KAAF,KAAYH,KAAK,CAACY,KAAN,CAAYT,KAA5B,EAAmC;cACjCF,IAAI,CAACE,KAAL,GAAaQ,CAAC,CAACR,KAAf;cACAF,IAAI,CAACG,GAAL,GAAWO,CAAC,CAACP,GAAb;cACAH,IAAI,CAACC,SAAL,GAAiBS,CAAC,CAACT,SAAnB;YACF;UACD,CAND;QAOF;MACD,CAVD;IAWD,CAZD;;IAcAf,SAAS,CAAC,MAAM;MACdkB,QAAQ;IACT,CAFQ,CAAT;;IAIA,MAAMQ,OAAM,GAAI,MAAM;MACpB,OAAMC,IAAN,CAAW,iBAAX;IACD,CAFD,CA9BM,CAkCN;;;IACA,MAAMC,MAAK,GAAI,MAAM;MACnBhB,MAAM,CAACiB,IAAP,CAAY,QAAZ;IACD,CAFD,CAnCM,CAuCN;;;IACA,MAAMC,aAAY,GAAKC,IAAD,IAAU;MAC9B,IAAIC,OAAM,GAAI,EAAd;MACAlB,IAAI,CAACC,SAAL,CAAeQ,OAAf,CAAwBU,IAAD,IAAU;QAAA;;QAC/B,wBAAI,CAACnB,IAAL,CAAUoB,KAAV,sEAAiBX,OAAjB,CAA0BW,KAAD,IAAW;UAClCA,KAAK,CAACC,QAAN,CAAeZ,OAAf,CAAwBa,MAAD,IAAY;YACjC,IAAIA,MAAM,CAACC,GAAP,GAAa,CAAjB,EAAoB;cAClBL,OAAO,CAACH,IAAR,CAAaO,MAAb;YACF;UACD,CAJD;QAKD,CAND;MAOD,CARD;;MAUA,IAAIJ,OAAO,CAACM,MAAR,KAAmB,CAAvB,EAA0B;QACxB,OAAM,eAAN;;QACA;MACF;;MAEA3B,KAAK,CAAC4B,MAAN,CAAa,SAAb,EAAwBP,OAAxB;MACAD,IAAG,KAAM,KAAT,GAAiBH,MAAM,EAAvB,GAA4B,EAA5B;IACD,CAnBD,CAxCM,CA6DN;;;IACA,MAAMY,QAAO,GAAI,MAAM;MACrBV,aAAa,CAAC,KAAD,CAAb;IACD,CAFD;;IAIA,OAAO,EACL,GAAG5B,MAAM,CAACY,IAAD,CADJ;MAELY,OAFK;MAGLI,aAHK;MAILnB,KAJK;MAKL6B,QALK;MAMLZ;IANK,CAAP;EAQD;;AAhFY,CAAf","names":["onMounted","reactive","toRefs","Header","CourseList","useStore","useRouter","useRoute","getStoreData","components","setup","store","router","route","data","storeData","title","img","getStore","then","res","status","code","forEach","i","query","service","fail","toCart","push","handleAddCart","type","newList","item","items","children","itemss","num","length","commit","clickBuy"],"sourceRoot":"","sources":["/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/src/pages/myStore/MyStore.vue"],"sourcesContent":["<template>\n  <div class=\"storeDetails\">\n    <Header title=\"Course Selection\" />\n    <div class=\"content\">\n      <div class=\"img\" />\n      <div class=\"courseClassify\">\n        <div class=\"name\">\n          {{ title }}\n          <img :src=\"img\" class=\"store_img\" alt=\"\" />\n        </div>\n        <div class=\"classify\">\n          <van-tabs color=\"#ffc400\">\n            <van-tab v-for=\"(i, index) in storeData\" :title=\"i.name\">\n              <CourseList :index=\"index\" :courseData=\"i.data\" />\n            </van-tab>\n          </van-tabs>\n        </div>\n      </div>\n    </div>\n    <van-action-bar>\n      <van-action-bar-icon icon=\"chat-o\" text=\"Contact\" @click=\"service\" />\n      <van-action-bar-icon\n        icon=\"cart-o\"\n        text=\"Cart\"\n        :badge=\"store.state.cartList.length\"\n        @click=\"toCart\"\n      />\n      <van-action-bar-button type=\"warning\" text=\"Add\" @click=\"handleAddCart\" />\n      <van-action-bar-button type=\"danger\" text=\"Buy\" @click=\"clickBuy\" />\n    </van-action-bar>\n  </div>\n</template>\n\n<script>\n// import { makeRequiredProp } from 'vant/lib/utils';\nimport { onMounted, reactive, toRefs } from 'vue';\nimport Header from '../../components/Header.vue';\nimport CourseList from './components/CourseList';\nimport { Toast } from 'vant';\nimport { useStore } from 'vuex';\n// import router from '../../router';\nimport { useRouter, useRoute } from 'vue-router';\nimport { getStoreData } from '../../request/api';\n\nexport default {\n  components: {\n    Header,\n    CourseList,\n  },\n\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n\n    let data = reactive({\n      storeData: [],\n      title: '',\n      img: '',\n    });\n\n    //data request\n    const getStore = () => {\n      getStoreData().then((res) => {\n        if (res.status === 200 && res.data.code === 0) {\n          res.data.data.forEach((i) => {\n            if (i.title === route.query.title) {\n              data.title = i.title;\n              data.img = i.img;\n              data.storeData = i.storeData;\n            }\n          });\n        }\n      });\n    };\n\n    onMounted(() => {\n      getStore();\n    });\n\n    const service = () => {\n      Toast.fail('Coming Later...');\n    };\n\n    //jump to cart\n    const toCart = () => {\n      router.push('./cart');\n    };\n\n    // add to cart\n    const handleAddCart = (type) => {\n      let newList = [];\n      data.storeData.forEach((item) => {\n        item.data.items?.forEach((items) => {\n          items.children.forEach((itemss) => {\n            if (itemss.num > 0) {\n              newList.push(itemss);\n            }\n          });\n        });\n      });\n\n      if (newList.length === 0) {\n        Toast('Please select');\n        return;\n      }\n\n      store.commit('ADDCART', newList);\n      type === 'buy' ? toCart() : '';\n    };\n\n    //buy click\n    const clickBuy = () => {\n      handleAddCart('buy');\n    };\n\n    return {\n      ...toRefs(data),\n      service,\n      handleAddCart,\n      store,\n      clickBuy,\n      toCart,\n    };\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n/deep/ .van-tab__text--ellipsis {\n  font-size: 9px;\n}\n/deep/ .van-action-bar-button {\n  height: 25px;\n  font-size: 10px;\n}\n/deep/ .van-action-bar {\n  height: 30px;\n}\n/deep/ .van-badge {\n  font-size: 7px;\n  min-width: 8px;\n}\n\n/deep/ .van-action-bar-icon {\n  font-size: 8px;\n  min-width: 30px;\n}\n\n.storeDetails {\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n  .content {\n    flex: 1;\n    overflow-y: auto;\n    .img {\n      background: url('../../assets/seden.jpeg') no-repeat center/cover;\n      width: 100%;\n      height: 80px;\n    }\n    .courseClassify {\n      height: 300px;\n      background-color: #fff;\n      margin-top: -20px;\n      border-radius: 10px 10px 0px 0px;\n\n      .classify {\n        margin-top: 10px;\n      }\n      .name {\n        display: flex;\n        padding: 5px;\n        justify-content: space-between;\n        .store_img {\n          width: 50px;\n          height: 50px;\n          border-radius: 5px;\n          margin-top: -10px;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}
{"remainingRequest":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/babel-loader/lib/index.js!/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/renxianggao/Desktop/DIB/driving_instructor_book/src/pages/createOrder/CreateOrder.vue?vue&type=template&id=9bd2cd3e&scoped=true","dependencies":[{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/src/pages/createOrder/CreateOrder.vue","mtime":1664249790899},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/babel.config.js","mtime":1658634198971},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/cache-loader/dist/cjs.js","mtime":1663066735138},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/babel-loader/lib/index.js","mtime":1663066738371},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1663066740834},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/cache-loader/dist/cjs.js","mtime":1663066735138},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/vue-loader-v16/dist/index.js","mtime":1663066738351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZCgiZGF0YS12LTliZDJjZDNlIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG4pOwoKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNyZWF0ZV9vcmRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImNvbnRlbnQiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJwYXktd3JhcCIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInByaWNlIgp9OwoKY29uc3QgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAiUHJpY2UiLCAtMQovKiBIT0lTVEVEICovCikpOwoKY29uc3QgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJDb25maXJtIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfSGVhZGVyID0gX3Jlc29sdmVDb21wb25lbnQoIkhlYWRlciIpOwoKICBjb25zdCBfY29tcG9uZW50X3Zhbl9jb250YWN0X2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWNvbnRhY3QtY2FyZCIpOwoKICBjb25zdCBfY29tcG9uZW50X3Zhbl9jYXJkID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1jYXJkIik7CgogIGNvbnN0IF9jb21wb25lbnRfdmFuX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tYnV0dG9uIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9IZWFkZXIsIHsKICAgIHRpdGxlOiAiQ3JlYXRlIE9yZGVyIgogIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fY29udGFjdF9jYXJkLCB7CiAgICB0eXBlOiAiZWRpdCIsCiAgICB0ZWw6IF9jdHguY3VycmVudENvbnRhY3QudGVsLAogICAgbmFtZTogX2N0eC5jdXJyZW50Q29udGFjdC5uYW1lLAogICAgb25DbGljazogJHNldHVwLm9uRWRpdAogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0ZWwiLCAibmFtZSIsICJvbkNsaWNrIl0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuc3RvcmUuc3RhdGUub3JkZXJMaXN0LCBpID0+IHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fY2FyZCwgewogICAgICBudW06IGkubnVtLAogICAgICBwcmljZTogaS5wcmljZSwKICAgICAgdGl0bGU6IGkudGl0bGUsCiAgICAgIHRodW1iOiBpLnBpYywKICAgICAgY3VycmVuY3k6ICIkIgogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJudW0iLCAicHJpY2UiLCAidGl0bGUiLCAidGh1bWIiXSldKTsKICB9KSwgMjU2CiAgLyogVU5LRVlFRF9GUkFHTUVOVCAqLwogICkpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2hvaXN0ZWRfNSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICIkICIgKyBfdG9EaXNwbGF5U3RyaW5nKF9jdHguYWxsUHJpY2UpLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2J1dHRvbiwgewogICAgY2xhc3M6ICJwYXktYnRuIiwKICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgIG9uQ2xpY2s6ICRzZXR1cC5oYW5kbGVDcmVhdGVPcmRlciwKICAgIGNvbG9yOiAiI2ZmYzQwMCIsCiAgICBibG9jazogIiIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2hvaXN0ZWRfNl0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJvbkNsaWNrIl0pXSldKTsKfQ=="},{"version":3,"mappings":";;;;;EACOA,KAAK,EAAC;;;EAQJA,KAAK,EAAC;;;EAWNA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gEACTC,oBAAkB,MAAlB,EAAkB,IAAlB,EAAM,OAAN,EAAW;AAAA;AAAX;;iDASC;;;;;;;;;;;uBA9BPC,oBAiCM,KAjCN,cAiCM,CAhCJC,aAA+BC,iBAA/B,EAA+B;IAAvBC,KAAK,EAAC;EAAiB,CAA/B,CAgCI,EA/BJF,aAKEG,2BALF,EAKE;IAJAC,IAAI,EAAC,MAIL;IAHCC,GAAG,EAAEC,oBAAeD,GAGrB;IAFCE,IAAI,EAAED,oBAAeC,IAEtB;IADCC,OAAK,EAAEC;EACR,CALF;;EAAA,6BA+BI,EAzBJX,oBAUM,KAVN,cAUM,oBATJC,oBAQMW,SARN,EAQM,IARN,EAQMC,YARWF,aAAMG,KAAN,CAAYC,SAQvB,EARMC,CAA0B,IAAzB;yBAAbf,oBAQM,KARN,EAQM,IARN,EAQM,CAPJC,aAMEe,mBANF,EAME;MALCC,GAAG,EAAEF,CAAC,CAACE,GAKR;MAJCC,KAAK,EAAEH,CAAC,CAACG,KAIV;MAHCf,KAAK,EAAEY,CAAC,CAACZ,KAGV;MAFCgB,KAAK,EAAEJ,CAAC,CAACK,GAEV;MADAC,QAAQ,EAAC;IACT,CANF;;IAAA,qCAOI,CARN;GAQM,CARN;;EAAA,CASI,EAVN,CAyBI,EAdJtB,oBAaM,KAbN,cAaM,CAZJA,oBAGM,KAHN,cAGM,CAFJuB,UAEI,EADJvB,oBAA6B,MAA7B,EAA6B,IAA7B,EAAM,OAAEwB,iBAAGhB,aAAH,CAAR,EAAmB;EAAA;EAAnB,CACI,CAHN,CAYI,EARJN,aAOCuB,qBAPD,EAOC;IANC1B,KAAK,EAAC,SAMP;IALCO,IAAI,EAAC,SAKN;IAJEI,OAAK,EAAEC,wBAIT;IAHCe,KAAK,EAAC,SAGP;IAFCC,KAAK,EAAL;EAED,CAPD;sBAMG,MAAO;;;;GANV;;EAAA,cAQI,CAbN,CAcI,CAjCN","names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_Header","title","_component_van_contact_card","type","tel","_ctx","name","onClick","$setup","_Fragment","_renderList","state","orderList","i","_component_van_card","num","price","thumb","pic","currency","_hoisted_5","_toDisplayString","_component_van_button","color","block"],"sourceRoot":"","sources":["/Users/renxianggao/Desktop/DIB/driving_instructor_book/src/pages/createOrder/CreateOrder.vue"],"sourcesContent":["<template>\n  <div class=\"create_order\">\n    <Header title=\"Create Order\" />\n    <van-contact-card\n      type=\"edit\"\n      :tel=\"currentContact.tel\"\n      :name=\"currentContact.name\"\n      @click=\"onEdit\"\n    />\n    <div class=\"content\">\n      <div v-for=\"i in store.state.orderList\">\n        <van-card\n          :num=\"i.num\"\n          :price=\"i.price\"\n          :title=\"i.title\"\n          :thumb=\"i.pic\"\n          currency=\"$\"\n        />\n      </div>\n    </div>\n    <div class=\"pay-wrap\">\n      <div class=\"price\">\n        <span>Price</span>\n        <span>$ {{ allPrice }}</span>\n      </div>\n      <van-button\n        class=\"pay-btn\"\n        type=\"primary\"\n        @click=\"handleCreateOrder\"\n        color=\"#ffc400\"\n        block\n        >Confirm</van-button\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from '../../components/Header.vue';\nimport { toRefs, reactive, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter, useRoute } from 'vue-router';\nimport { Dialog } from 'vant';\nexport default {\n  components: {\n    Header,\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n    let data = reactive({\n      currentContact: {\n        name: '',\n        tel: '',\n      },\n      allPrice: 0,\n    });\n\n    //user data initialization\n    const initUser = () => {\n      store.state.userAddress.forEach((item) => {\n        if (item.isDefault) {\n          data.currentContact.name = item.name;\n          data.currentContact.tel = item.tel;\n        }\n      });\n    };\n\n    //price in total initialization\n    const initPrice = () => {\n      let price = 0;\n      if (store.state.orderList.length) {\n        store.state.orderList.forEach((item) => {\n          price += item.num * item.price;\n        });\n        data.allPrice = price;\n      }\n    };\n\n    onMounted(() => {\n      initPrice();\n      initUser();\n    });\n\n    //address edit button\n    const onEdit = () => {\n      router.push('./address');\n    };\n\n    //create order button\n    const handleCreateOrder = () => {\n      Dialog.alert({\n        title: 'Thanks!',\n        message: 'We have received your order.',\n      }).then(() => {\n        let newList = store.state.cartList.filter((item) => {\n          return !route.query.list.includes(item.id + '');\n        });\n        store.commit('DELETE', newList);\n        store.commit('UPDATEORDER');\n        router.push('./order');\n      });\n    };\n\n    return {\n      ...toRefs(data),\n      onEdit,\n      store,\n      handleCreateOrder,\n    };\n  },\n};\n</script>\n<style>\n:root {\n  --van-card-padding: 5px;\n  --van-card-font-size: 10px;\n  --van-card-thumb-size: 50px;\n  --van-card-thumb-border-radius: 5px;\n  --van-card-title-line-height: 10px;\n  --van-card-origin-price-font-size: 10px;\n  --van-card-price-font-size: 10px;\n  --van-card-price-integer-font-size: 10px;\n  --van-dialog-width: 150px;\n  --van-dialog-confirm-button-text-color: #ffc400;\n  --van-dialog-message-padding: 0px;\n  --van-dialog-button-height: 35px;\n}\n</style>\n\n<style lang=\"less\" scoped>\n/deep/ .van-cell {\n  font-size: 8px;\n}\n\n/deep/ .van-contact-card {\n  padding: 10px;\n}\n\n// /deep/ .van-dialog__message {\n//     padding:1px;\n// }\n\n.create_order {\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n  .content {\n    flex: 1;\n    overflow-y: auto;\n  }\n  .pay-wrap {\n    padding: 5px 0;\n    width: 100%;\n\n    background: #fff;\n    border-top: 1px solid #e9e9e9;\n    > div {\n      display: flex;\n      justify-content: space-between;\n      padding: 0 5%;\n      margin: 5px 0;\n      font-size: 9px;\n      span:nth-child(2) {\n        color: red;\n        font-size: 10px;\n      }\n    }\n    .pay-btn {\n      width: 90%;\n      margin: 0 auto;\n      height: 20px;\n      border-radius: 20px;\n    }\n  }\n}\n</style>\n"]}]}
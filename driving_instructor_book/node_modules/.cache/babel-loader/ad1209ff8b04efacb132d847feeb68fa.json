{"remainingRequest":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/babel-loader/lib/index.js!/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/renxianggao/Desktop/DIB/driving_instructor_book/src/pages/addressEdit/AddressEdit.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/src/pages/addressEdit/AddressEdit.vue","mtime":1665399117333},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/babel.config.js","mtime":1658634198971},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/cache-loader/dist/cjs.js","mtime":1663066735138},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/babel-loader/lib/index.js","mtime":1663066738371},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/cache-loader/dist/cjs.js","mtime":1663066735138},{"path":"/Users/renxianggao/Desktop/DIB/driving_instructor_book/node_modules/vue-loader-v16/dist/index.js","mtime":1663066738351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcywgb25Nb3VudGVkLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9IZWFkZXIudnVlJzsKaW1wb3J0IHsgdXNlUm91dGUsIHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSGVhZGVyCiAgfSwKCiAgc2V0dXAoKSB7CiAgICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGxldCBkYXRhID0gcmVhY3RpdmUoewogICAgICBhcmVhTGlzdDogewogICAgICAgIHByb3ZpbmNlX2xpc3Q6IHsKICAgICAgICAgIDExMDAwMDogJyBWSUMgJywKICAgICAgICAgIDEyMDAwMDogJyBOU1cgJywKICAgICAgICAgIDEzMDAwMDogJyBTQSAnLAogICAgICAgICAgMTQwMDAwOiAnIFFMRCAnLAogICAgICAgICAgMTQwMDAwOiAnIFRBUyAnLAogICAgICAgICAgMTQwMDAwOiAnIFdBICcKICAgICAgICB9LAogICAgICAgIGNpdHlfbGlzdDogewogICAgICAgICAgMTEwMTAwOiAnIE1lbGJvdXJuZSAnLAogICAgICAgICAgMTEwMjAwOiAnIFd5bmRoYW0gJywKICAgICAgICAgIDEyMDEwMDogJyBTeWRuZXkgJywKICAgICAgICAgIDEyMDIwMDogJyBEdWJibyAnCiAgICAgICAgfSwKICAgICAgICBjb3VudHlfbGlzdDogewogICAgICAgICAgMTEwMTAxOiAnIENlbnRyZSAnLAogICAgICAgICAgMTEwMTAyOiAnIFNvdXRoIFlhcnJhICcsCiAgICAgICAgICAxMjAxMDI6ICcgSGF3a2VzYnVyeSAnLAogICAgICAgICAgMTMwMTAyOiAnIEZyYW5rc3RvbiAnCiAgICAgICAgfQogICAgICB9LAogICAgICBhZGRyZXNzSW5mbzoge30KICAgIH0pOwogICAgY29uc3QgYWRkcmVzcyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIHJvdXRlLnF1ZXJ5LnR5cGUgPT09ICdhZGQnID8gJ0FkZCBuZXcgYWRkcmVzcycgOiAnQWRkcmVzcyBFZGl0JzsKICAgIH0pOyAvL2RhdGEgaW5pdGlhbGl6YXRpb24KCiAgICBjb25zdCBpbml0ID0gKCkgPT4gewogICAgICBzdG9yZS5zdGF0ZS51c2VyQWRkcmVzcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGlmIChpdGVtLmlkID09PSBOdW1iZXIocm91dGUucXVlcnkuaWQpKSB7CiAgICAgICAgICBkYXRhLmFkZHJlc3NJbmZvID0gaXRlbTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKCiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICBpbml0KCk7CiAgICB9KTsgLy8gc2F2ZSBidXR0b24KCiAgICBjb25zdCBvblNhdmUgPSBjb250ZW50ID0+IHsKICAgICAgaWYgKHJvdXRlLnF1ZXJ5LnR5cGUgPT09ICdhZGQnKSB7CiAgICAgICAgc3RvcmUuY29tbWl0KCdBRERBRERSRVNTJywgY29udGVudCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RvcmUuY29tbWl0KCdDSEFOR0VBRERSRVNTJywgY29udGVudCk7CiAgICAgIH0KCiAgICAgIF9Ub2FzdCgnU2F2ZSBTdWNjZXNzJyk7CgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICByb3V0ZXIuYmFjaygpOwogICAgICB9LCAxMDAwKTsKICAgIH07IC8vIGRlbGV0ZSBidXR0b24KCgogICAgY29uc3Qgb25EZWxldGUgPSBjb250ZW50ID0+IHsKICAgICAgc3RvcmUuY29tbWl0KCdERUxFVEVBRERSRVNTJywgY29udGVudCk7CgogICAgICBfVG9hc3QoJ0RlbGV0ZSBTdWNjZXNzJyk7CgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICByb3V0ZXIuYmFjaygpOwogICAgICB9LCAxMDAwKTsKICAgIH07IC8vdmFsaWRhdG9yIHRlc3QKCgogICAgY29uc3QgdmFsaWRhdG9yID0gZSA9PiB7CiAgICAgIC8vICAgY29uc29sZS5sb2coZSk7CiAgICAgIC8vICAgbGV0IG15cmVnMSA9IC9eWzFdWzMsNCw1LDcsOF1bMC05XXs5fSQvOwogICAgICAvLyAgIGxldCBteXJlZzIgPSAvXlsyXVszLDQsNSw3LDhdWzAtOV17Nn0kLzsKICAgICAgLy8gICBpZiAoIW15cmVnMS50ZXN0KGUpICYmICFteXJlZzIudGVzdChlKSkgewogICAgICAvLyAgICAgY29uc29sZS5sb2coJ3dyb25nIG51bWJlcicpOwogICAgICAvLyAgICAgcmV0dXJuIGZhbHNlOwogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnY29ycmVjdCBudW1iZXInKTsKICAgICAgLy8gICAgIHJldHVybiB0cnVlOwogICAgICAvLyAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwoKICAgIHJldHVybiB7IC4uLnRvUmVmcyhkYXRhKSwKICAgICAgb25TYXZlLAogICAgICBvbkRlbGV0ZSwKICAgICAgYWRkcmVzcywKICAgICAgdmFsaWRhdG9yCiAgICB9OwogIH0KCn07"},{"version":3,"mappings":";;AAeA,SAASA,QAAT,EAAmBC,MAAnB,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAsD,KAAtD;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,YAApC;AACA,SAASC,QAAT,QAAyB,MAAzB;AAEA,eAAe;EACbC,UAAU,EAAE;IAAEJ;EAAF,CADC;;EAEbK,KAAK,GAAG;IACN,MAAMC,KAAI,GAAIL,QAAQ,EAAtB;IACA,MAAMM,MAAK,GAAIL,SAAS,EAAxB;IACA,MAAMM,KAAI,GAAIL,QAAQ,EAAtB;IACA,IAAIM,IAAG,GAAIb,QAAQ,CAAC;MAClBc,QAAQ,EAAE;QACRC,aAAa,EAAE;UACb,QAAQ,OADK;UAEb,QAAQ,OAFK;UAGb,QAAQ,MAHK;UAIb,QAAQ,OAJK;UAKb,QAAQ,OALK;UAMb,QAAQ;QANK,CADP;QASRC,SAAS,EAAE;UACT,QAAQ,aADC;UAET,QAAQ,WAFC;UAGT,QAAQ,UAHC;UAIT,QAAQ;QAJC,CATH;QAeRC,WAAW,EAAE;UACX,QAAQ,UADG;UAEX,QAAQ,eAFG;UAGX,QAAQ,cAHG;UAIX,QAAQ;QAJG;MAfL,CADQ;MAuBlBC,WAAW,EAAE;IAvBK,CAAD,CAAnB;IA0BA,MAAMC,OAAM,GAAIhB,QAAQ,CAAC,MAAM;MAC7B,OAAOO,KAAK,CAACU,KAAN,CAAYC,IAAZ,KAAqB,KAArB,GAA6B,iBAA7B,GAAiD,cAAxD;IACD,CAFuB,CAAxB,CA9BM,CAkCN;;IACA,MAAMC,IAAG,GAAI,MAAM;MACjBV,KAAK,CAACW,KAAN,CAAYC,WAAZ,CAAwBC,OAAxB,CAAiCC,IAAD,IAAU;QACxC,IAAIA,IAAI,CAACC,EAAL,KAAYC,MAAM,CAAClB,KAAK,CAACU,KAAN,CAAYO,EAAb,CAAtB,EAAwC;UACtCd,IAAI,CAACK,WAAL,GAAmBQ,IAAnB;QACF;MACD,CAJD;IAKD,CAND;;IAOAxB,SAAS,CAAC,MAAM;MACdoB,IAAI;IACL,CAFQ,CAAT,CA1CM,CA6CN;;IACA,MAAMO,MAAK,GAAKC,OAAD,IAAa;MAC1B,IAAIpB,KAAK,CAACU,KAAN,CAAYC,IAAZ,KAAqB,KAAzB,EAAgC;QAC9BT,KAAK,CAACmB,MAAN,CAAa,YAAb,EAA2BD,OAA3B;MACF,CAFA,MAEO;QACLlB,KAAK,CAACmB,MAAN,CAAa,eAAb,EAA8BD,OAA9B;MACF;;MACA,OAAM,cAAN;;MACAE,UAAU,CAAC,MAAM;QACfrB,MAAM,CAACsB,IAAP;MACD,CAFS,EAEP,IAFO,CAAV;IAGD,CAVD,CA9CM,CA0DN;;;IACA,MAAMC,QAAO,GAAKJ,OAAD,IAAa;MAC5BlB,KAAK,CAACmB,MAAN,CAAa,eAAb,EAA8BD,OAA9B;;MACA,OAAM,gBAAN;;MACAE,UAAU,CAAC,MAAM;QACfrB,MAAM,CAACsB,IAAP;MACD,CAFS,EAEP,IAFO,CAAV;IAGD,CAND,CA3DM,CAmEN;;;IACA,MAAME,SAAQ,GAAKC,CAAD,IAAO;MACvB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,OAAO,IAAP;IACD,CAZD;;IAcA,OAAO,EACL,GAAGnC,MAAM,CAACY,IAAD,CADJ;MAELgB,MAFK;MAGLK,QAHK;MAILf,OAJK;MAKLgB;IALK,CAAP;EAOD;;AA3FY,CAAf","names":["reactive","toRefs","onMounted","computed","Header","useRoute","useRouter","useStore","components","setup","route","router","store","data","areaList","province_list","city_list","county_list","addressInfo","address","query","type","init","state","userAddress","forEach","item","id","Number","onSave","content","commit","setTimeout","back","onDelete","validator","e"],"sourceRoot":"","sources":["/Users/renxianggao/Desktop/DIB/driving_instructor_book/src/pages/addressEdit/AddressEdit.vue"],"sourcesContent":["<template>\n  <Header :title=\"address\" />\n  <van-address-edit\n    :area-list=\"areaList\"\n    :address-info=\"addressInfo\"\n    show-delete\n    show-set-default\n    :area-columns-placeholder=\"['Select', 'Select', 'Select']\"\n    @save=\"onSave\"\n    @delete=\"onDelete\"\n    :tel-validator=\"validator\"\n  />\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted, computed } from 'vue';\nimport Header from '../../components/Header.vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { Toast } from 'vant';\nexport default {\n  components: { Header },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n    let data = reactive({\n      areaList: {\n        province_list: {\n          110000: ' VIC ',\n          120000: ' NSW ',\n          130000: ' SA ',\n          140000: ' QLD ',\n          140000: ' TAS ',\n          140000: ' WA ',\n        },\n        city_list: {\n          110100: ' Melbourne ',\n          110200: ' Wyndham ',\n          120100: ' Sydney ',\n          120200: ' Dubbo ',\n        },\n        county_list: {\n          110101: ' Centre ',\n          110102: ' South Yarra ',\n          120102: ' Hawkesbury ',\n          130102: ' Frankston ',\n        },\n      },\n      addressInfo: {},\n    });\n\n    const address = computed(() => {\n      return route.query.type === 'add' ? 'Add new address' : 'Address Edit';\n    });\n\n    //data initialization\n    const init = () => {\n      store.state.userAddress.forEach((item) => {\n        if (item.id === Number(route.query.id)) {\n          data.addressInfo = item;\n        }\n      });\n    };\n    onMounted(() => {\n      init();\n    });\n    // save button\n    const onSave = (content) => {\n      if (route.query.type === 'add') {\n        store.commit('ADDADDRESS', content);\n      } else {\n        store.commit('CHANGEADDRESS', content);\n      }\n      Toast('Save Success');\n      setTimeout(() => {\n        router.back();\n      }, 1000);\n    };\n\n    // delete button\n    const onDelete = (content) => {\n      store.commit('DELETEADDRESS', content);\n      Toast('Delete Success');\n      setTimeout(() => {\n        router.back();\n      }, 1000);\n    };\n\n    //validator test\n    const validator = (e) => {\n      //   console.log(e);\n      //   let myreg1 = /^[1][3,4,5,7,8][0-9]{9}$/;\n      //   let myreg2 = /^[2][3,4,5,7,8][0-9]{6}$/;\n      //   if (!myreg1.test(e) && !myreg2.test(e)) {\n      //     console.log('wrong number');\n      //     return false;\n      //   } else {\n      //     console.log('correct number');\n      //     return true;\n      //   }\n      return true;\n    };\n\n    return {\n      ...toRefs(data),\n      onSave,\n      onDelete,\n      address,\n      validator,\n    };\n  },\n};\n</script>\n<style>\n:root {\n  --van-address-edit-button-font-size: 12px;\n  --van-address-edit-button-margin-bottom: 3px;\n  --van-cell-line-height: 10px;\n  --van-cell-icon-size: 10px;\n  --van-picker-option-font-size: 8px;\n}\n</style>\n<style lang=\"less\" scoped>\n/deep/ .van-button--danger {\n  background-color: #ffc400;\n  border-color: #ffc400;\n}\n/deep/ .van-button {\n  height: 20px;\n}\n/deep/ .van-switch--on {\n  background-color: #ffc400;\n}\n/deep/ .van-cell {\n  font-size: 10px;\n  line-height: 10px;\n  height: 40px;\n}\n\n/deep/ .van-field__control {\n  font-size: 7px;\n}\n/deep/ .van-field__error-message {\n  font-size: 5px;\n}\n</style>\n"]}]}
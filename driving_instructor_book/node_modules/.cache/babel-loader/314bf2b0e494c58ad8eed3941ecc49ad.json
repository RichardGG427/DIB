{"remainingRequest":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/babel-loader/lib/index.js!/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/src/pages/userInfoEdit/UserInfoEdit.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/src/pages/userInfoEdit/UserInfoEdit.vue","mtime":1665398207134},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/babel.config.js","mtime":1658634198971},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/cache-loader/dist/cjs.js","mtime":1663066735138},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/babel-loader/lib/index.js","mtime":1663066738371},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/cache-loader/dist/cjs.js","mtime":1663066735138},{"path":"/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/node_modules/vue-loader-v16/dist/index.js","mtime":1663066738351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9IZWFkZXIudnVlJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIKICB9LAoKICBzZXR1cCgpIHsKICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgbGV0IGRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIG5pY2tOYW1lOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBpbnRyb2R1Y2VTaWduOiAnU2VlayBMaWdodCcKICAgIH0pOwoKICAgIGNvbnN0IGxvZ291dCA9ICgpID0+IHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2lzTG9naW4nKTsKCiAgICAgIF9Ub2FzdCgnTG9nb3V0IFN1Y2Nlc3MhJyk7CgogICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICB9OyAvLyBzYXZlIGJ1dHRvbgoKCiAgICBjb25zdCBzYXZlID0gKCkgPT4gewogICAgICBpZiAoZGF0YS5uaWNrTmFtZSAmJiBkYXRhLnBhc3N3b3JkKSB7CiAgICAgICAgY29uc3QgdXNlckluZm8gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS51c2VySW5mbyk7CiAgICAgICAgY29uc3QgbmV3VXNlckluZm8gPSB7CiAgICAgICAgICB1c2VybmFtZTogZGF0YS5uaWNrTmFtZSB8fCB1c2VySW5mb1sndXNlcm5hbWUnXSwKICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkIHx8IHVzZXJJbmZvWydwYXNzd29yZCddCiAgICAgICAgfTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCBKU09OLnN0cmluZ2lmeShuZXdVc2VySW5mbykpOwoKICAgICAgICBfVG9hc3QoJ0VkaXQgc3VjY2VzcyEnKTsKCiAgICAgICAgcm91dGVyLnB1c2goJy9taW5lJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX1RvYXN0KCdQbGVhc2UgRWRpdCcpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7IC4uLnRvUmVmcyhkYXRhKSwKICAgICAgc2F2ZSwKICAgICAgbG9nb3V0CiAgICB9OwogIH0KCn07"},{"version":3,"mappings":";;AA+BA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,KAAjC;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AAEA,SAASC,SAAT,QAA0B,YAA1B;AACA,eAAe;EACbC,UAAU,EAAE;IAAEF;EAAF,CADC;;EAEbG,KAAK,GAAG;IACN,MAAMC,MAAK,GAAIH,SAAS,EAAxB;IACA,IAAII,IAAG,GAAIP,QAAQ,CAAC;MAClBQ,QAAQ,EAAE,EADQ;MAElBC,QAAQ,EAAE,EAFQ;MAGlBC,aAAa,EAAE;IAHG,CAAD,CAAnB;;IAKA,MAAMC,MAAK,GAAI,MAAM;MACnBC,YAAY,CAACC,UAAb,CAAwB,SAAxB;;MACA,OAAM,iBAAN;;MACAP,MAAM,CAACQ,IAAP,CAAY,QAAZ;IACD,CAJD,CAPM,CAYN;;;IACA,MAAMC,IAAG,GAAI,MAAM;MACjB,IAAIR,IAAI,CAACC,QAAL,IAAiBD,IAAI,CAACE,QAA1B,EAAoC;QAClC,MAAMO,QAAO,GAAIC,IAAI,CAACC,KAAL,CAAWN,YAAY,CAACI,QAAxB,CAAjB;QACA,MAAMG,WAAU,GAAI;UAClBC,QAAQ,EAAEb,IAAI,CAACC,QAAL,IAAiBQ,QAAQ,CAAC,UAAD,CADjB;UAElBP,QAAQ,EAAEF,IAAI,CAACE,QAAL,IAAiBO,QAAQ,CAAC,UAAD;QAFjB,CAApB;QAIAJ,YAAY,CAACS,OAAb,CAAqB,UAArB,EAAiCJ,IAAI,CAACK,SAAL,CAAeH,WAAf,CAAjC;;QACA,OAAM,eAAN;;QACAb,MAAM,CAACQ,IAAP,CAAY,OAAZ;MACF,CATA,MASO;QACL,OAAM,aAAN;MACF;IACD,CAbD;;IAeA,OAAO,EACL,GAAGb,MAAM,CAACM,IAAD,CADJ;MAELQ,IAFK;MAGLJ;IAHK,CAAP;EAKD;;AAnCY,CAAf","names":["reactive","toRefs","Header","useRouter","components","setup","router","data","nickName","password","introduceSign","logout","localStorage","removeItem","push","save","userInfo","JSON","parse","newUserInfo","username","setItem","stringify"],"sourceRoot":"","sources":["/Users/renxianggao/Desktop/DrivingInstructorBook/driving_instructor_book/src/pages/userInfoEdit/UserInfoEdit.vue"],"sourcesContent":["<template>\n  <div class=\"userEdit\">\n    <Header title=\"Userinfo Edit\" />\n    <div class=\"input-item\">\n      <van-field v-model=\"nickName\" label=\"Username\" placeholder=\"Username\" />\n      <van-field v-model=\"introduceSign\" label=\"Intro\" placeholder=\"Intro\" />\n      <van-field v-model=\"password\" label=\"Password\" placeholder=\"Password\" />\n    </div>\n    <van-button\n      type=\"primary\"\n      round\n      color=\"#ffc400\"\n      class=\"save-btn\"\n      block\n      @click=\"save\"\n    >\n      Save\n    </van-button>\n    <van-button\n      type=\"primary\"\n      round\n      color=\"#ffc400\"\n      class=\"save-btn\"\n      block\n      @click=\"logout\"\n      >Logout</van-button\n    >\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue';\nimport Header from '../../components/Header.vue';\nimport { Toast } from 'vant';\nimport { useRouter } from 'vue-router';\nexport default {\n  components: { Header },\n  setup() {\n    const router = useRouter();\n    let data = reactive({\n      nickName: '',\n      password: '',\n      introduceSign: 'Seek Light',\n    });\n    const logout = () => {\n      localStorage.removeItem('isLogin');\n      Toast('Logout Success!');\n      router.push('/login');\n    };\n    // save button\n    const save = () => {\n      if (data.nickName && data.password) {\n        const userInfo = JSON.parse(localStorage.userInfo);\n        const newUserInfo = {\n          username: data.nickName || userInfo['username'],\n          password: data.password || userInfo['password'],\n        };\n        localStorage.setItem('userInfo', JSON.stringify(newUserInfo));\n        Toast('Edit success!');\n        router.push('/mine');\n      } else {\n        Toast('Please Edit');\n      }\n    };\n\n    return {\n      ...toRefs(data),\n      save,\n      logout,\n    };\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n/deep/ .van-button--danger {\n  background-color: #ffc400;\n  border-color: #ffc400;\n}\n/deep/ .van-cell {\n  height: 40px;\n}\n/deep/ .van-field__label {\n  font-size: 10px;\n}\n/deep/ .van-field__control {\n  font-size: 10px;\n}\n/deep/ .van-button {\n  height: 20px;\n}\n.save-btn {\n  width: 80%;\n  margin: 10px auto;\n}\n</style>\n"]}]}